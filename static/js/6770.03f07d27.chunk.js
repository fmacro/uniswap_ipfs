"use strict";(self.webpackChunk_uniswap_interface=self.webpackChunk_uniswap_interface||[]).push([[6770],{36770:(e,n,o)=>{o.r(n),o.d(n,{default:()=>Un});var i=o(92936),t=o(5985),r=o(48836),a=o(54884),l=o(56250),s=o(11947);const d=(0,l.z)(s.k,{zIndex:a.k.dropdown,position:"fixed",bottom:0,right:0,left:0,justifyContent:"space-between",gap:"$gap8",width:"100%",maxHeight:100,backdropFilter:"blur(4px)",mask:"linear-gradient(to bottom, transparent, $surface1 15%)",py:"$padding12",px:"$padding16",animation:"lazy",display:"none",$xl:{display:"block"},variants:{hide:{true:{bottom:"-100px !important"},false:{bottom:0}}}});var c=o(91854);function u(e){return(0,i.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.28516 11.9999C1.28516 6.08243 6.08194 1.28564 11.9994 1.28564C17.9169 1.28564 22.7137 6.08243 22.7137 11.9999C22.7137 17.9174 17.9169 22.7142 11.9994 22.7142C6.08194 22.7142 1.28516 17.9174 1.28516 11.9999ZM10.9816 7.49994C10.9816 6.9378 11.4373 6.48209 11.9995 6.48209C12.5616 6.48209 13.0173 6.9378 13.0173 7.49994V14.0426L15.7798 11.2802C16.1772 10.8827 16.8217 10.8827 17.2192 11.2802C17.6167 11.6777 17.6167 12.3222 17.2192 12.7197L12.7192 17.2197C12.3217 17.6172 11.6772 17.6172 11.2798 17.2197L6.77975 12.7197C6.38225 12.3222 6.38225 11.6777 6.77975 11.2802C7.17725 10.8827 7.82172 10.8827 8.21922 11.2802L10.9816 14.0426V7.49994Z",fill:e.fill||"white"})})}var v=o(14303),h=o(12799),p=o(22722),x=o(37891),m=o(36664),y=o(37451),j=o(45779),f=o(6282),g=o(77134),k=o(97994);function b(e,n,o,i,t,r,a){try{var l=e[r](a),s=l.value}catch(d){return void o(d)}l.done?n(s):Promise.resolve(s).then(i,t)}const C=m.ZP.button`
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  gap: 8px;
  border: none;
  border-radius: 50px;
  transition: color 0.2s;
  background-color: ${({$color:e,theme:n})=>e||n.neutral2};
  color: ${({theme:e})=>e.neutralContrast};
  padding: 12px 20px 12px 16px;
  font-size: 18px;
  font-weight: 535;
  flex-grow: 1;
  ${g.iV}

  @media (max-width: 360px) {
    padding-left: 20px;
    > svg {
      display: none;
    }
  }
`;function w(){const{currencyChain:e,currencyChainId:n,address:o,tokenColor:t}=(0,y.U)(),r=(0,x.o)(),a=(0,f.s0)(),l=(0,p.m)(),d=e.toLowerCase(),m=o===h.d?"ETH":o,g=(0,j.useCallback)(function(){var e,o=(e=function*(e){l.chainId&&l.chainId!==n&&(yield r(n)),a(e)},function(){var n=this,o=arguments;return new Promise((function(i,t){var r=e.apply(n,o);function a(e){b(r,i,t,a,l,"next",e)}function l(e){b(r,i,t,a,l,"throw",e)}a(void 0)}))});return function(e){return o.apply(this,arguments)}}(),[l,n,r,a]),w=[{label:(0,k.t)("common.buy.label"),href:`/swap/?chain=${d}&outputCurrency=${m}`,icon:(0,i.jsx)(c.c,{fill:"white"})},{label:(0,k.t)("common.sell.label"),href:`/swap?chain=${d}&inputCurrency=${m}`,icon:(0,i.jsx)(u,{fill:"white"})},{label:(0,k.t)("common.send.button"),href:`/send?chain=${d}&inputCurrency=${m}`,icon:(0,i.jsx)(v.v,{fill:"white"})}];return(0,i.jsx)(s.k,{row:!0,justifyContent:"center",gap:"$spacing8",width:"100%",children:w.map((e=>(0,i.jsxs)(C,{onClick:()=>g(e.href),$color:t,children:[e.icon,e.label]},e.label)))})}var T=o(76696),$=o(35607),I=o(37711),P=o(74258),V=o(73397),L=o(83123),M=o(70854);const N=20;var E=o(61190),S=o(64505);const F=[L.ay.VolOverTvl];function U({chainId:e,referenceToken:n}){const o=(0,S.Dv)(I.AY),t=(0,S.Dv)(I.$E),r=(0,j.useMemo)((()=>({sortBy:o,sortDirection:t?E.N9.Asc:E.N9.Desc})),[t,o]),{pools:a,loading:l,errorV2:s,errorV3:d,loadMore:c}=function(e,n,o){var i,t,r,a;const{loading:l,error:s,data:d,fetchMore:c}=(0,M.useTopV3PoolsQuery)({variables:{first:N,tokenAddress:e,chain:(0,V.tq)({chainId:o,withFallback:!0})}}),{loading:u,error:v,data:h,fetchMore:p}=(0,M.useTopV2PairsQuery)({variables:{first:N,tokenAddress:e,chain:(0,V.tq)({chainId:o,withFallback:!0})},skip:!o}),x=l||u,m=(0,j.useRef)(!1),y=(0,j.useRef)(!1),f=(0,j.useRef)(N),g=(0,j.useCallback)((({onComplete:e})=>{var n,o,i,t,r,a,l,s;m.current||y.current||(m.current=!0,y.current=!0,f.current+=N,c({variables:{cursor:null===(t=d)||void 0===t||null===(i=t.topV3Pools)||void 0===i||null===(o=i[d.topV3Pools.length-1])||void 0===o||null===(n=o.totalLiquidity)||void 0===n?void 0:n.value},updateQuery:(n,{fetchMoreResult:o})=>{if(!o||!n||!Object.keys(n).length)return n;var i;y.current||null===(i=e)||void 0===i||i();const t={topV3Pools:[...(n.topV3Pools??[]).slice(),...(o.topV3Pools??[]).slice()]};return m.current=!1,t}}),p({variables:{cursor:null===(s=h)||void 0===s||null===(l=s.topV2Pairs)||void 0===l||null===(a=l[h.topV2Pairs.length-1])||void 0===a||null===(r=a.totalLiquidity)||void 0===r?void 0:r.value},updateQuery:(n,{fetchMoreResult:o})=>{if(!o||!n||!Object.keys(n).length)return n;var i;m.current||null===(i=e)||void 0===i||i();const t={topV2Pairs:[...(n.topV2Pairs??[]).slice(),...(o.topV2Pairs??[]).slice()]};return y.current=!1,t}}))}),[null===(i=h)||void 0===i?void 0:i.topV2Pairs,null===(t=d)||void 0===t?void 0:t.topV3Pools,p,c]);return(0,j.useMemo)((()=>{var e,o,i,t;const r=(null===(o=d)||void 0===o||null===(e=o.topV3Pools)||void 0===e?void 0:e.map((e=>{var n,o,i,t,r,a,l;return{hash:e.address,token0:e.token0,token1:e.token1,tvl:null===(n=e.totalLiquidity)||void 0===n?void 0:n.value,volume24h:null===(o=e.volume24h)||void 0===o?void 0:o.value,volumeWeek:null===(i=e.volumeWeek)||void 0===i?void 0:i.value,volOverTvl:(0,L.DF)(null===(t=e.volume24h)||void 0===t?void 0:t.value,null===(r=e.totalLiquidity)||void 0===r?void 0:r.value),apr:(0,L.r6)(null===(a=e.volume24h)||void 0===a?void 0:a.value,null===(l=e.totalLiquidity)||void 0===l?void 0:l.value,e.feeTier),feeTier:e.feeTier,protocolVersion:e.protocolVersion}})))??[],a=(null===(t=h)||void 0===t||null===(i=t.topV2Pairs)||void 0===i?void 0:i.map((e=>{var n,o,i,t,r,a,l;return{hash:e.address,token0:e.token0,token1:e.token1,tvl:null===(n=e.totalLiquidity)||void 0===n?void 0:n.value,volume24h:null===(o=e.volume24h)||void 0===o?void 0:o.value,volumeWeek:null===(i=e.volumeWeek)||void 0===i?void 0:i.value,volOverTvl:(0,L.DF)(null===(t=e.volume24h)||void 0===t?void 0:t.value,null===(r=e.totalLiquidity)||void 0===r?void 0:r.value),apr:(0,L.r6)(null===(a=e.volume24h)||void 0===a?void 0:a.value,null===(l=e.totalLiquidity)||void 0===l?void 0:l.value,L.y9),feeTier:L.y9,protocolVersion:e.protocolVersion}})))??[],l=(0,L.s$)([...r,...a],n).slice(0,f.current);return{loading:x,errorV2:v,errorV3:s,pools:l,loadMore:g}}),[null===(r=h)||void 0===r?void 0:r.topV2Pairs,null===(a=d)||void 0===a?void 0:a.topV3Pools,v,s,g,x,n])}(n.address,r,e),u=s&&d?new $.ApolloError({errorMessage:`Could not retrieve V2 and V3 Pools for token ${n.address} on chain: ${e}`}):void 0,v=l&&!a.length;(0,P.cn)({chainId:e,errorV3:d,errorV2:s});const h=(0,S.oC)(I.AY),p=(0,S.oC)(I.$E);return(0,j.useEffect)((()=>{h(),p()}),[p,h]),(0,i.jsx)("div",{"data-testid":`tdp-pools-table-${n.address.toLowerCase()}`,children:(0,i.jsx)(I.NE,{pools:a,loading:v,error:u,maxHeight:600,hiddenColumns:F,loadMore:c})})}var B=o(73705),O=o(36365),Z=o(90184),H=o(88339),z=o(39650),A=(e=>(e.BUY="Buy",e.SELL="Sell",e))(A||{});const K=25;var W=o(93919),R=o(8806),Q=o(30754),_=o(92457),D=o(64972);const q=(0,l.z)(R.xv,{display:"inline-block",maxWidth:75,variant:"body2",color:"$neutral1",...g.wH}),G=(0,l.z)(s.k,{position:"relative",minHeight:158});function Y({chainId:e,referenceToken:n}){const o=(0,W.X)(),{formatNumber:t,formatFiatPrice:r}=(0,D.Gb)(),[a,l]=(0,j.useReducer)((e=>!e),!1),d=(0,j.useRef)(null),[c,u]=(0,j.useState)([A.BUY,A.SELL]),{transactions:v,loading:h,loadMore:p,errorV2:x,errorV3:m}=function(e,n,o=["Buy","Sell"]){var i,t,r,a,l,s,d,c;const{data:u,loading:v,fetchMore:h,error:p}=(0,M.useV3TokenTransactionsQuery)({variables:{address:e.toLowerCase(),chain:(0,V.tq)({chainId:n,withFallback:!0}),first:K}}),{data:x,loading:m,error:y,fetchMore:f}=(0,M.useV2TokenTransactionsQuery)({variables:{address:e.toLowerCase(),first:K,chain:(0,V.tq)({chainId:n})}}),g=(0,j.useRef)(!1),k=(0,j.useRef)(!1),b=(0,j.useRef)(K),C=(0,j.useCallback)((({onComplete:e})=>{var n,o,i,t,r,a,l,s,d,c;g.current||k.current||(g.current=!0,k.current=!0,b.current+=K,h({variables:{cursor:null===(r=u)||void 0===r||null===(t=r.token)||void 0===t||null===(i=t.v3Transactions)||void 0===i||null===(n=i[(null===(o=u.token)||void 0===o?void 0:o.v3Transactions.length)-1])||void 0===n?void 0:n.timestamp},updateQuery:(n,{fetchMoreResult:o})=>{var i,t,r,a,l,s,d;if(!o)return n;k.current||null===(d=e)||void 0===d||d();const c={token:{...n.token,id:(null===(t=n)||void 0===t||null===(i=t.token)||void 0===i?void 0:i.id)??"",chain:(null===(a=n)||void 0===a||null===(r=a.token)||void 0===r?void 0:r.chain)??M.Chain.Ethereum,v3Transactions:[...(null===(l=n.token)||void 0===l?void 0:l.v3Transactions)??[],...(null===(s=o.token)||void 0===s?void 0:s.v3Transactions)??[]]}};return g.current=!1,c}}),f({variables:{cursor:null===(c=x)||void 0===c||null===(d=c.token)||void 0===d||null===(s=d.v2Transactions)||void 0===s||null===(a=s[(null===(l=x.token)||void 0===l?void 0:l.v2Transactions.length)-1])||void 0===a?void 0:a.timestamp},updateQuery:(n,{fetchMoreResult:o})=>{var i,t,r,a,l,s,d;if(!o)return n;g.current||null===(d=e)||void 0===d||d();const c={token:{...n.token,id:(null===(t=n)||void 0===t||null===(i=t.token)||void 0===i?void 0:i.id)??"",chain:(null===(a=n)||void 0===a||null===(r=a.token)||void 0===r?void 0:r.chain)??M.Chain.Ethereum,v2Transactions:[...(null===(l=n.token)||void 0===l?void 0:l.v2Transactions)??[],...(null===(s=o.token)||void 0===s?void 0:s.v2Transactions)??[]]}};return k.current=!1,c}}))}),[null===(t=x)||void 0===t||null===(i=t.token)||void 0===i?void 0:i.v2Transactions,null===(a=u)||void 0===a||null===(r=a.token)||void 0===r?void 0:r.v3Transactions,f,h]),w=(0,j.useMemo)((()=>{var n,i,t,r,a,l;return[...(null===(t=u)||void 0===t||null===(i=t.token)||void 0===i||null===(n=i.v3Transactions)||void 0===n?void 0:n.filter((n=>{var i;if(!n)return!1;const t=(null===(i=(parseFloat(n.token0Quantity)>0?n.token0:n.token1).address)||void 0===i?void 0:i.toLowerCase())===e.toLowerCase();return n.type===M.PoolTransactionType.Swap&&o.includes(t?"Sell":"Buy")})))??[],...(null===(l=x)||void 0===l||null===(a=l.token)||void 0===a||null===(r=a.v2Transactions)||void 0===r?void 0:r.filter((n=>{var i;if(!n)return!1;const t=(null===(i=(parseFloat(n.token0Quantity)>0?n.token0:n.token1).address)||void 0===i?void 0:i.toLowerCase())===e.toLowerCase();return n.type===M.PoolTransactionType.Swap&&o.includes(t?"Sell":"Buy")})))??[]].sort(((e,n)=>{var o,i,t;return(null===(o=e)||void 0===o?void 0:o.timestamp)&&(null===(i=n)||void 0===i?void 0:i.timestamp)?n.timestamp-e.timestamp:null===(null===(t=e)||void 0===t?void 0:t.timestamp)?-1:1})).slice(0,b.current)}),[e,null===(s=x)||void 0===s||null===(l=s.token)||void 0===l?void 0:l.v2Transactions,null===(c=u)||void 0===c||null===(d=c.token)||void 0===d?void 0:d.v3Transactions,o]);return(0,j.useMemo)((()=>({transactions:w,loading:v||m,loadMore:C,errorV2:y,errorV3:p})),[w,v,m,C,y,p])}(n.address,e,c),y=x&&m?new $.ApolloError({errorMessage:`Could not retrieve V2 and V3 Transactions for token: ${n.address} on chain: ${e}`}):void 0,f=h&&!v.length;(0,P.cn)({chainId:e,errorV3:m,errorV2:x});const g=(0,E.vR)(e,n),b=(0,j.useMemo)((()=>v.map((e=>{const n={address:e.token0.address,symbol:e.token0.symbol,amount:parseFloat(e.token0Quantity),token:e.token0},o={address:e.token1.address,symbol:e.token1.symbol,amount:parseFloat(e.token1Quantity),token:e.token1},i=parseFloat(e.token0Quantity)>0;return{hash:e.hash,timestamp:e.timestamp,input:i?n:o,output:i?o:n,usdValue:e.usdValue.value,makerAddress:e.account}}))),[v]),C=f||!!y,w=(0,j.useMemo)((()=>{const v=(0,B.Cl)();return[v.accessor((e=>e),{id:"timestamp",header:()=>(0,i.jsx)(Z.b,{minWidth:120,justifyContent:"flex-start",grow:!0,children:(0,i.jsxs)(s.k,{row:!0,gap:"$gap4",alignItems:"center",children:[(0,i.jsx)(z.iX,{direction:E.N9.Desc}),(0,i.jsx)(z.Hu,{active:!0,children:(0,i.jsx)(k.Trans,{i18nKey:"common.time"})})]})}),cell:n=>{var o,t,r,a;return(0,i.jsx)(Z.b,{loading:C,minWidth:120,justifyContent:"flex-start",grow:!0,children:(0,i.jsx)(z._q,{timestamp:Number(null===(o=(t=n).getValue)||void 0===o?void 0:o.call(t).timestamp),link:(0,Q.getExplorerLink)(e,null===(r=(a=n).getValue)||void 0===r?void 0:r.call(a).hash,Q.ExplorerDataType.TRANSACTION)})})}}),v.accessor((e=>e.output.address),{id:"swap-type",header:()=>(0,i.jsx)(Z.b,{minWidth:75,justifyContent:"flex-start",grow:!0,children:(0,i.jsxs)(z.j4,{clickable:a,onPress:l,alignItems:"center",ref:d,children:[(0,i.jsx)(H.w,{allFilters:Object.values(A),activeFilter:c,setFilters:u,isOpen:a,toggleFilterModal:l,anchorRef:d}),(0,i.jsx)(R.xv,{variant:"body2",color:"$neutral2",children:(0,i.jsx)(k.Trans,{i18nKey:"common.type.label"})})]})}),cell:e=>{var o,t;const r=String(null===(o=(t=e).getValue)||void 0===o?void 0:o.call(t)).toLowerCase()===n.address.toLowerCase();return(0,i.jsx)(Z.b,{loading:C,minWidth:75,justifyContent:"flex-start",grow:!0,children:(0,i.jsx)(R.xv,{variant:"body2",color:r?"$statusSuccess":"$statusCritical",children:r?(0,i.jsx)(k.Trans,{i18nKey:"common.buy.label"}):(0,i.jsx)(k.Trans,{i18nKey:"common.sell.label"})})})}}),v.accessor((e=>{var o;return(null===(o=e.input.address)||void 0===o?void 0:o.toLowerCase())===n.address.toLowerCase()?e.input.amount:e.output.amount}),{id:"reference-amount",header:()=>(0,i.jsx)(Z.b,{minWidth:100,justifyContent:"flex-end",children:(0,i.jsxs)(R.xv,{variant:"body2",color:"$neutral2",children:["$",g.symbol]})}),cell:e=>{var n,o;return(0,i.jsx)(Z.b,{loading:C,minWidth:100,justifyContent:"flex-end",children:(0,i.jsx)(R.xv,{variant:"body2",color:"$neutral1",children:t({input:Math.abs(null===(n=(o=e).getValue)||void 0===n?void 0:n.call(o))||0})})})}}),v.accessor((e=>{var o;const r=(null===(o=e.input.address)||void 0===o?void 0:o.toLowerCase())===n.address.toLowerCase()?e.output:e.input;return(0,i.jsxs)(s.k,{row:!0,gap:"$gap8",justifyContent:"flex-end",children:[(0,i.jsx)(q,{children:t({input:Math.abs(r.amount)||0})}),(0,i.jsx)(z.Jn,{token:r.token})]})}),{id:"non-reference-amount",header:()=>(0,i.jsx)(Z.b,{minWidth:160,justifyContent:"flex-end",children:(0,i.jsx)(R.xv,{variant:"body2",color:"$neutral2",children:(0,i.jsx)(k.Trans,{i18nKey:"common.for"})})}),cell:e=>{var n,o;return(0,i.jsx)(Z.b,{loading:C,minWidth:160,justifyContent:"flex-end",children:null===(n=(o=e).getValue)||void 0===n?void 0:n.call(o)})}}),v.accessor((e=>e.usdValue),{id:"fiat-value",header:()=>(0,i.jsx)(Z.b,{minWidth:125,justifyContent:"flex-end",children:(0,i.jsx)(s.k,{row:!0,gap:"$gap4",justifyContent:"flex-end",children:(0,i.jsx)(z.Hu,{children:o})})}),cell:e=>{var n,o;return(0,i.jsx)(Z.b,{loading:C,minWidth:125,justifyContent:"flex-end",children:(0,i.jsx)(R.xv,{variant:"body2",color:"$neutral1",children:r({price:null===(n=(o=e).getValue)||void 0===n?void 0:n.call(o)})})})}}),v.accessor((e=>e.makerAddress),{id:"maker-address",header:()=>(0,i.jsx)(Z.b,{minWidth:150,justifyContent:"flex-end",children:(0,i.jsx)(R.xv,{variant:"body2",color:"$neutral2",children:(0,i.jsx)(k.Trans,{i18nKey:"common.wallet.label"})})}),cell:n=>{var o,t,r,a;return(0,i.jsx)(Z.b,{loading:C,minWidth:150,justifyContent:"flex-end",children:(0,i.jsx)(z.Bq,{href:(0,Q.getExplorerLink)(e,null===(o=(t=n).getValue)||void 0===o?void 0:o.call(t),Q.ExplorerDataType.ADDRESS),children:(0,_.shortenAddress)(null===(r=(a=n).getValue)||void 0===r?void 0:r.call(a))})})}})]}),[C,e,a,c,n.address,g.symbol,t,o,r]);return(0,i.jsx)(G,{children:(0,i.jsx)(O.i,{columns:w,data:b,loading:f,error:y,loadMore:p,maxHeight:600})})}const X=(0,l.z)(s.k,{width:"100%"}),J=(0,l.z)(R.xv,{color:"$neutral1",variant:"heading3",...g.GG});function ee(){const{wrapped:e,chainId:n}=(0,y.U)().currency,[o,t]=(0,j.useState)(0);return e?(0,i.jsxs)(X,{"data-testid":"token-details-activity-section",children:[(0,i.jsxs)(s.k,{row:!0,gap:"$spacing24",mb:"$spacing24",id:"activity-header",children:[(0,i.jsx)(J,{color:0===o?"$neutral1":"$neutral2",onPress:()=>t(0),children:(0,i.jsx)(k.Trans,{i18nKey:"common.transactions"})}),(0,i.jsx)(J,{color:1===o?"$neutral1":"$neutral2",onPress:()=>t(1),children:(0,i.jsx)(k.Trans,{i18nKey:"common.pools"})})]}),0===o&&(0,i.jsx)(Y,{chainId:n,referenceToken:e}),1===o&&(0,i.jsx)(U,{chainId:n,referenceToken:e})]}):null}var ne=o(70855),oe=o(56363),ie=o(769);const te=m.ZP.div`
  color: ${({theme:e})=>e.neutral1};
  display: flex;
  flex-direction: column;
  gap: 24px;
  height: fit-content;
  width: 100%;

  // 768 hardcoded to match NFT-redesign navbar breakpoints
  // src/nft/css/sprinkles.css.ts
  // change to match theme breakpoints when this navbar is updated
  @media screen and (min-width: 768px) {
    display: flex;
  }
`,re=m.ZP.div`
  height: fit-content;
  width: 100%;
`,ae=m.ZP.div`
  align-items: center;
  display: flex;
  flex-direction: row;
  margin-top: 12px;
`,le=m.ZP.div`
  display: flex;
  align-items: center;
`,se=m.ZP.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  margin-left: 12px;
  ${({$alignLeft:e})=>e&&"\n    justify-content: start;\n    gap: 8px;\n  "}
`,de=({currency:e,chainId:n=ie.UniverseChainId.Mainnet,gqlBalance:o,alignLeft:t=!1,onClick:r})=>{var a,l,s,d,c,u;const{formatNumber:v}=(0,D.Gb)(),h=(0,j.useMemo)((()=>[e]),[e]),p=v({input:null===(a=o)||void 0===a?void 0:a.quantity,type:D.sw.TokenNonTx}),x=v({input:null===(s=o)||void 0===s||null===(l=s.denominatedValue)||void 0===l?void 0:l.value,type:D.sw.PortfolioBalance});return(0,i.jsxs)(ae,{onClick:r,children:[(0,i.jsx)(ne.V,{currencies:h,chainId:n,images:[null===(u=o)||void 0===u||null===(c=u.token)||void 0===c||null===(d=c.project)||void 0===d?void 0:d.logoUrl],size:32}),(0,i.jsxs)(se,{$alignLeft:t,children:[(0,i.jsx)(le,{children:(0,i.jsx)(oe.T.BodyPrimary,{children:x})}),(0,i.jsx)(le,{children:(0,i.jsx)(oe.T.BodySecondary,{children:p})})]})]})},ce=({pageChainBalance:e,alignLeft:n=!1})=>{var o;if(!e||!e.token)return null;const t=(0,E.Pc)(e.token);return(0,i.jsxs)(re,{children:[(0,i.jsx)(oe.T.HeadlineSmall,{color:"neutral1",children:(0,i.jsx)(k.Trans,{i18nKey:"tdp.balanceSummary.title"})}),(0,i.jsx)(de,{currency:t,chainId:null===(o=t)||void 0===o?void 0:o.chainId,gqlBalance:e,alignLeft:n})]})},ue=({otherChainBalances:e,hasPageChainBalance:n})=>{const o=(0,f.s0)();return e.length?(0,i.jsxs)(re,{children:[n?(0,i.jsx)(oe.T.SubHeaderSmall,{children:(0,i.jsx)(k.Trans,{i18nKey:"tdp.balanceSummary.otherNetworks",children:"On other networks"})}):(0,i.jsx)(oe.T.HeadlineSmall,{children:(0,i.jsx)(k.Trans,{i18nKey:"tdp.balanceSummary.otherNetworksBalance",children:"Balance on other networks"})}),e.map((e=>{const n=e.token&&(0,E.Pc)(e.token),t=(e.token&&(0,E.Tz)(e.token.chain))??ie.UniverseChainId.Mainnet;return(0,i.jsx)(de,{currency:n,chainId:t,gqlBalance:e,onClick:()=>{var n,i;return o((0,E.dG)({address:null===(n=e.token)||void 0===n?void 0:n.address,chain:(null===(i=e.token)||void 0===i?void 0:i.chain)??M.Chain.Ethereum}))}},e.id)}))]}):null};function ve(){var e;const n=(0,p.m)(),{currencyChain:o,multiChainMap:t}=(0,y.U)(),r=null===(e=t[o])||void 0===e?void 0:e.balance,a=[];for(const[i,d]of Object.entries(t)){var l;i!==o&&void 0!==(null===(l=d)||void 0===l?void 0:l.balance)&&a.push(d.balance)}const s=r||Boolean(a.length);return n.isConnected&&s?(0,i.jsxs)(te,{children:[(0,i.jsx)(ce,{pageChainBalance:r}),(0,i.jsx)(ue,{otherChainBalances:a,hasPageChainBalance:!!r})]}):null}var he=o(15007),pe=o(33569),xe=o(96967),me=o(96857);const ye=e=>(0,i.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"transparent",...e,children:(0,i.jsx)("path",{d:"M5.12245 9.5625C5.23495 11.8725 6.01495 14.2275 7.37245 16.32C4.19245 15.615 1.76996 12.8925 1.52246 9.5625H5.12245ZM7.37245 1.67999C4.19245 2.38499 1.76996 5.1075 1.52246 8.4375H5.12245C5.23495 6.1275 6.01495 3.77249 7.37245 1.67999ZM9.14997 1.5H8.84995L8.62496 1.82249C7.19996 3.84749 6.36745 6.1725 6.24745 8.4375H11.7525C11.6325 6.1725 10.8 3.84749 9.37496 1.82249L9.14997 1.5ZM6.24745 9.5625C6.36745 11.8275 7.19996 14.1525 8.62496 16.1775L8.84995 16.5H9.14997L9.37496 16.1775C10.8 14.1525 11.6325 11.8275 11.7525 9.5625H6.24745ZM12.8775 9.5625C12.765 11.8725 11.985 14.2275 10.6275 16.32C13.8075 15.615 16.23 12.8925 16.4775 9.5625H12.8775ZM16.4775 8.4375C16.23 5.1075 13.8075 2.38499 10.6275 1.67999C11.985 3.77249 12.765 6.1275 12.8775 8.4375H16.4775Z",fill:e.fill??"#607BEE"})});var je=o(73593),fe=o(33038),ge=o(36710),ke=o(75985),be=o(74689),Ce=o(65277),we=o(61152),Te=o(94191),$e=o(78994);const Ie=(0,l.z)(s.k,{gap:"$gap16",width:"100%",$xl:{gap:24}}),Pe=(0,l.z)(R.xv,{variant:"subheading1"}),Ve=(0,l.z)(s.k,{row:!0,gap:"$gap8",width:"100%"}),Le=(0,l.z)(Ve,{flexWrap:"wrap"}),Me=(0,l.z)(R.xv,{variant:"buttonLabel3",display:"flex",flexDirection:"row",gap:"$gap8",py:"$padding8",px:"$padding12",borderRadius:"$rounded20",backgroundColor:"$surface2",width:"max-content",...g.GG,color:"$neutral1"}),Ne=(0,l.z)(R.xv,{variant:"body1",color:"$neutral1",maxWidth:"100%",maxHeight:"fit-content",...g.wH,whiteSpace:"pre-wrap",lineHeight:24}),Ee=(0,l.z)($e.n,{fontWeight:"$book",variants:{visible:{true:{display:"inline"},false:{display:"none"}}}}),Se=200;function Fe(){var e,n;const{address:o,currency:t,tokenQuery:r}=(0,y.U)(),{neutral2:a}=(0,we.useTheme)(),{description:l,homepageUrl:d,twitterName:c}=(null===(n=r.data)||void 0===n||null===(e=n.token)||void 0===e?void 0:e.project)??{},u=(0,Q.getExplorerLink)(t.chainId,o,t.isNative?Q.ExplorerDataType.NATIVE:Q.ExplorerDataType.TOKEN),[v,h]=(0,be.Z)(),p=(0,j.useCallback)((()=>{h(o)}),[o,h]),[x,m]=(0,j.useReducer)((e=>!e),!0),f=(0,ge.Nt)(l??"",Se),b=!!l&&l.length>Se,C=b&&x,{inputTax:w,outputTax:T}=(0,Ce.j)(o,o,t.chainId),{formatPercent:$}=(0,D.Gb)(),{sellFeeString:I,buyFeeString:P}={sellFeeString:$(w),buyFeeString:$(T)},V=Boolean(parseFloat(I))||Boolean(parseFloat(T.toFixed(2))),L=I===P;return(0,i.jsxs)(Ie,{"data-testid":"token-details-info-section",children:[(0,i.jsx)(Pe,{children:(0,i.jsx)(k.Trans,{i18nKey:"common.info.label"})}),(0,i.jsxs)(Le,{"data-testid":"token-details-info-links",children:[!t.isNative&&(0,i.jsx)(ke.ZP,{placement:"bottom",size:ke.Oz.Max,show:v,text:(0,k.t)("common.copied"),children:(0,i.jsxs)(Me,{onPress:p,children:[(0,i.jsx)(Te.Z,{width:"18px",height:"18px",color:a}),(0,_.shortenAddress)(t.address)]})}),(0,i.jsx)(g.dL,{href:u,children:(0,i.jsxs)(Me,{children:[(0,i.jsx)(me.P,{width:"18px",height:"18px",fill:a}),t.chainId===ie.UniverseChainId.Mainnet?(0,i.jsx)(k.Trans,{i18nKey:"common.etherscan"}):(0,i.jsx)(k.Trans,{i18nKey:"common.explorer"})]})}),d&&(0,i.jsx)(g.dL,{href:d,children:(0,i.jsxs)(Me,{children:[(0,i.jsx)(ye,{width:"18px",height:"18px",fill:a}),(0,i.jsx)(k.Trans,{i18nKey:"common.website"})]})}),c&&(0,i.jsx)(g.dL,{href:`https://x.com/${c}`,children:(0,i.jsxs)(Me,{children:[(0,i.jsx)(je.E,{width:"18px",height:"18px",fill:a}),(0,i.jsx)(k.Trans,{i18nKey:"common.twitter"})]})})]}),(0,i.jsxs)(Ne,{children:[!l&&(0,i.jsx)(ge.aZ,{children:(0,i.jsx)(k.Trans,{i18nKey:"tdp.noInfoAvailable"})}),l&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Ee,{"data-testid":"token-description-full",visible:!C,children:l}),(0,i.jsx)(Ee,{"data-testid":"token-description-truncated",visible:C,children:f})]}),b&&(0,i.jsx)(ge.ou,{onClick:m,"data-testid":"token-description-show-more-button",children:x?(0,i.jsx)(k.Trans,{i18nKey:"common.showMore.button"}):(0,i.jsx)(k.Trans,{i18nKey:"common.hide.button"})})]}),V&&(0,i.jsx)(ke.ud,{placement:"left",size:ke.Oz.Small,text:(0,i.jsx)(oe.T.Caption,{color:"neutral2",children:(0,i.jsx)(fe.gE,{})}),children:(0,i.jsx)(s.k,{gap:"$gap8",children:L?(0,i.jsxs)(oe.T.BodyPrimary,{children:[t.symbol,"\xa0",(0,i.jsx)(k.Trans,{i18nKey:"token.fee.label"}),":\xa0",I]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(oe.T.BodyPrimary,{children:[t.symbol,"\xa0",(0,i.jsx)(k.Trans,{i18nKey:"token.fee.buy.label"}),":\xa0",P]})," ",(0,i.jsxs)(oe.T.BodyPrimary,{children:[t.symbol,"\xa0",(0,i.jsx)(k.Trans,{i18nKey:"token.fee.sell.label"}),":\xa0",I]})," "]})})})]})}var Ue=o(66203),Be=o(85188),Oe=o(70789),Ze=o(37246),He=o(18586),ze=o(43454),Ae=o(63935),Ke=o(51960),We=o(55892),Re=o(43087),Qe=o(96623),_e=o(94685);const De=()=>{var e,n,o,t;const{address:r,currency:a,tokenQuery:l}=(0,y.U)(),{t:d}=(0,k.useTranslation)(),c=(0,Ae.E)(),u=(0,Ke.GS)().sm,[v,h]=(0,j.useState)(!1),p=a.symbol??d("tdp.symbolNotFound"),x=(0,Q.getExplorerLink)(a.chainId,r,a.isNative?Q.ExplorerDataType.NATIVE:Q.ExplorerDataType.TOKEN),{homepageUrl:m,twitterName:f}=(null===(n=l.data)||void 0===n||null===(e=n.token)||void 0===e?void 0:e.project)??{},b=f&&`https://x.com/${f}`,[C]=(0,ze.lr)(),w=`${C.size>0?"&":"?"}utm_source=share-tdp&utm_medium=${_e.isMobileWeb?"mobile":"web"}`,T=window.location.href+w,$=a.name&&a.symbol?`${a.name} (${a.symbol})`:(null===(o=a)||void 0===o?void 0:o.name)||(null===(t=a)||void 0===t?void 0:t.symbol)||"",[I,P]=(0,be.Z)(),V=(0,j.useMemo)((()=>[{title:d("common.explorer"),icon:a.chainId===ie.UniverseChainId.Mainnet?(0,i.jsx)(me.P,{width:"18px",height:"18px",fill:c.neutral1.val}):(0,i.jsx)(Ue.J,{width:"18px",height:"18px",fill:c.neutral1.val}),onPress:()=>window.open(x,"_blank"),show:!!x},{title:d("common.website"),icon:(0,i.jsx)(ye,{width:"18px",height:"18px",fill:c.neutral1.val}),onPress:()=>window.open(m,"_blank"),show:!!m},{title:d("common.twitter"),icon:(0,i.jsx)(je.E,{width:"18px",height:"18px",fill:c.neutral1.val}),onPress:()=>window.open(b,"_blank"),show:!!b},{title:d(I?"common.copied":"common.copyLink.button"),icon:I?(0,i.jsx)(Re.Check,{size:16,p:1,color:c.statusSuccess.val}):(0,i.jsx)(Ze.Z,{size:18,color:c.neutral1.val}),onPress:()=>P(T),show:u},{title:d("common.share.shareToTwitter"),icon:(0,i.jsx)(Be.m,{fill:c.neutral1.val,width:18,height:18}),onPress:()=>(0,Oe.D)($),show:u}]),[x,m,b,a.chainId,c,d,I,P,T,u,$]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(pe.yn,{children:[(0,i.jsx)(ne.V,{currencies:[a],chainId:a.chainId,size:32}),(0,i.jsxs)(s.k,{row:!0,gap:"$gap8",alignItems:"center",overflow:"hidden",children:[(0,i.jsx)(R.xv,{variant:"heading3",minWidth:40,...g.wH,children:a.name??d("tdp.nameNotFound")}),(0,i.jsx)(R.xv,{variant:"heading3",textTransform:"uppercase",color:"$neutral2",$sm:{display:"none"},children:p})]})]}),u?(0,i.jsxs)(s.k,{children:[(0,i.jsx)(R.xv,{onPress:()=>h(!0),...ge.TX,children:(0,i.jsx)(He.Z,{size:Qe._.icon20,color:c.neutral2.val})}),(0,i.jsx)(We.o,{isOpen:u&&v,onClose:()=>h(!1),children:(0,i.jsx)(s.k,{gap:"$spacing8",mb:"$spacing16",children:V.map((e=>e.show&&(0,i.jsxs)(s.k,{row:!0,width:"100%",gap:"$spacing12",px:"$spacing8",py:10,alignItems:"center",hoverStyle:{backgroundColor:"$surface3"},cursor:"pointer",borderRadius:"$rounded8",onPress:()=>{h(!1),e.onPress()},children:[e.icon,(0,i.jsx)(R.xv,{variant:"body2",children:e.title})]},e.title)))})})]}):(0,i.jsxs)(s.k,{row:!0,gap:"$gap8",alignItems:"center",children:[V.map((e=>e.show&&(0,i.jsx)(ke.ud,{text:e.title,placement:"top",size:ke.Oz.Max,children:(0,i.jsx)(R.xv,{onPress:e.onPress,...ge.TX,children:e.icon})},e.title))),(0,i.jsx)(Oe.Z,{name:$,utmSource:"share-tdp"})]})]})};var qe=o(97704),Ge=o(93465),Ye=o(68519),Xe=o(3704),Je=o(45283),en=o(51578),nn=o(66113),on=o(48313),tn=o(90710),rn=o(81323),an=o(40834);const ln=(0,m.ZP)(ge.Hr)`
  margin-top: 40px;
  margin-bottom: 40px;
  @media screen and (max-width: ${({theme:e})=>e.breakpoint.sm}px) {
    opacity: 0;
    margin-bottom: 0;
  }
`;function sn(){const{address:e,currency:n,currencyChain:o}=(0,y.U)();return(0,i.jsxs)(r.zG,{"aria-label":"breadcrumb-nav",children:[(0,i.jsxs)(r.yY,{to:`/explore/${o.toLowerCase()}`,children:[(0,i.jsx)(k.Trans,{i18nKey:"common.explore"})," ",(0,i.jsx)(en.Z,{size:14})]}),(0,i.jsxs)(r.yY,{to:`/explore/tokens/${o.toLowerCase()}`,children:[(0,i.jsx)(k.Trans,{i18nKey:"common.tokens"})," ",(0,i.jsx)(en.Z,{size:14})]}),(0,i.jsx)(r.f3,{address:e,currency:n})]})}function dn(e){return e?e.isToken?e.address:h.d:""}function cn(){const{address:e,currency:n,currencyChainId:o,warning:t}=(0,y.U)(),r=(0,p.m)(),a=(0,f.s0)(),l=(0,j.useCallback)((n=>{const i=dn(n.inputCurrency),t=dn(n.outputCurrency);if((0,tn.K)(i,e)||(0,tn.K)(t,e))return;const r=n.outputCurrency??n.inputCurrency;if(!r)return;const l=function(e,n,o,i){const t=(0,V.ht)(n)?(0,V.zK)({chainId:n}).assetRepoNetworkName??"ethereum":"ethereum",r=(0,_.isAddress)(e);return n&&(0,an.isCelo)(n)&&e===(0,an.nativeOnChain)(n).wrapped.address?rn.CELO_LOGO:r?`https://raw.githubusercontent.com/Uniswap/assets/master/blockchains/${t}/assets/${r}/logo.png`:i??void 0}(r.wrapped.address,r.chainId,r.isNative),s=(0,E.dG)({address:r.isNative?null:r.address,chain:V.yC[(0,V.ht)(r.chainId)?r.chainId:o],inputAddress:n.inputCurrency&&n.inputCurrency!==r?i:null});a(s,{state:{preloadedLogoSrc:l}})}),[e,o,a]),s=function(){const{currency:e}=(0,y.U)(),n=(0,Ye.Z)(),o=(0,j.useMemo)((()=>"string"===typeof n.inputCurrency?n.inputCurrency:void 0),[n]);return(0,qe.U8)(o,e.chainId)}();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Je.HY,{syncTabToUrl:!1,chainId:n.chainId,initialInputCurrency:s,initialOutputCurrency:n,onCurrencyChange:l,disableTokenInputs:r.isConnected&&n.chainId!==r.chainId,compact:!0}),t&&(0,i.jsx)(T.Z,{tokenAddress:e,warning:t})]})}function un({children:e}){const{address:n,currency:o}=(0,y.U)();return(0,i.jsx)(on.default,{logImpression:!0,page:t.yJ.TOKEN_DETAILS_PAGE,properties:{tokenAddress:n,tokenSymbol:o.symbol,tokenName:o.name,chainId:o.chainId},children:e})}function vn(){var e,n;const{address:o,currency:t,tokenQuery:r,currencyChain:a,multiChainMap:l}=(0,y.U)(),c=null===(e=r.data)||void 0===e?void 0:e.token,u=null===(n=l[a])||void 0===n?void 0:n.balance,{lg:v}=(0,Ge.e)(),{direction:h}=(0,Xe.v)(),p=(0,nn.Y)();return(0,i.jsx)(un,{children:(0,i.jsxs)(pe.Gy,{children:[(0,i.jsxs)(pe.WQ,{children:[(0,i.jsx)(sn,{}),(0,i.jsx)(pe.Pn,{"data-testid":"token-info-container",children:(0,i.jsx)(De,{})}),(0,i.jsx)(he.ZP,{}),!v&&!!u&&(0,i.jsx)(s.k,{mt:"$spacing40",children:(0,i.jsx)(ce,{pageChainBalance:u,alignLeft:!0})}),(0,i.jsx)(xe.ZP,{chainId:t.chainId,address:o,tokenQueryData:c}),(0,i.jsx)(ln,{}),(0,i.jsx)(ee,{})]}),(0,i.jsxs)(pe.QN,{children:[v&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(cn,{}),(0,i.jsx)(ve,{})]}),(0,i.jsx)(Fe,{})]}),(0,i.jsx)(d,{hide:p&&h===Xe.I.DOWN,children:(0,i.jsx)("div",{"data-testid":"tdp-mobile-bottom-bar",children:(0,i.jsx)(w,{})})})]})})}var hn;function pn(){return pn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},pn.apply(this,arguments)}function xn(e,n){let{title:o,titleId:i,...t}=e;return j.createElement("svg",pn({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",ref:n,"aria-labelledby":i},t),o?j.createElement("title",{id:i},o):null,hn||(hn=j.createElement("path",{d:"M14.75 12C14.75 13.517 13.517 14.75 12 14.75C10.483 14.75 9.25004 13.517 9.25004 12C9.25004 11.651 9.32196 11.32 9.44096 11.012C9.63496 11.166 9.86903 11.272 10.136 11.272C10.763 11.272 11.272 10.763 11.272 10.136C11.272 9.86899 11.166 9.63492 11.012 9.44092C11.32 9.32192 11.651 9.25 12 9.25C13.517 9.25 14.75 10.483 14.75 12ZM20.5921 13.4771C19.3651 15.5311 16.609 19 12 19C7.39104 19 4.635 15.5311 3.408 13.4771C2.864 12.5671 2.864 11.4329 3.408 10.5229C4.635 8.46895 7.39104 5 12 5C16.609 5 19.3651 8.46895 20.5921 10.5229C21.1361 11.4329 21.1361 12.5671 20.5921 13.4771ZM16.25 12C16.25 9.657 14.344 7.75 12 7.75C9.65604 7.75 7.75004 9.657 7.75004 12C7.75004 14.343 9.65604 16.25 12 16.25C14.344 16.25 16.25 14.343 16.25 12Z",fill:"currentColor"})))}const mn=j.forwardRef(xn);o.p;var yn=o(3115),jn=o(30401),fn=o(45427);const gn=m.ZP.div`
  padding-top: 128px;
  display: flex;
  flex-direction: column;
  align-items: center;
`,kn=m.ZP.span`
  margin-top: 28px;
  margin-bottom: 20px;

  text-align: center;

  color: ${({theme:e})=>e.neutral2};
  font-size: 20px;
  font-weight: 535;
  line-height: 28px;
`,bn=(0,m.ZP)(yn.DF)`
  width: fit-content;
  padding: 12px 16px;
  border-radius: 12px;

  color: ${({theme:e})=>e.neutral1};
  font-size: 16px;
  font-weight: 535;
`;function Cn({pageChainId:e,isInvalidAddress:n}){const{chainId:o}=(0,p.m)(),t=(0,V.Nb)(o),r=(0,V.Nb)(e),a=(0,f.s0)(),l=(0,jn.Z)(),s=!n&&e===o,d=t?fn.UNIVERSE_CHAIN_INFO[o].label:void 0;return(0,i.jsxs)(gn,{children:[(0,i.jsx)(mn,{}),n||s?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(kn,{children:(0,i.jsx)(k.Trans,{i18nKey:"tdp.invalidTokenPage.title"})}),(0,i.jsx)(bn,{onClick:()=>a("/tokens"),children:(0,i.jsx)(oe.T.SubHeader,{children:(0,i.jsx)(k.Trans,{i18nKey:"common.exploreTokens"})})})]}):(0,i.jsxs)(i.Fragment,{children:[d&&(0,i.jsx)(kn,{children:(0,i.jsx)(k.Trans,{i18nKey:"tdp.invalidTokenPage.titleWithChain",values:{network:d}})}),(0,i.jsx)(bn,{onClick:()=>l(e),children:(0,i.jsx)(oe.T.SubHeader,{children:(0,i.jsx)(k.Trans,{i18nKey:"tdp.invalidTokenPage.switchChainPrompt",values:{network:r?fn.UNIVERSE_CHAIN_INFO[e].label:""}})})})]})]})}var wn=o(10849),Tn=o(96238),$n=o(54971);const In=(e,n)=>{var o,i;const t=null===(o=e)||void 0===o?void 0:o.name,r=null===(i=e)||void 0===i?void 0:i.symbol,a=(0,k.t)("common.buyAndSell");if(!t&&!r)return a;const l=n&&n!==ie.UniverseChainId.Mainnet?` on ${fn.UNIVERSE_CHAIN_INFO[n].label}`:"";return!t&&r?`${r}${l}: ${a}`:t&&!r?`${t}${l}: ${a}`:`${t} (${r})${l}: ${a}`},Pn=(e,n)=>{var o,i,t,r,a,l;return`Buy, sell, and swap ${(null===(o=e)||void 0===o?void 0:o.name)&&(null===(i=e)||void 0===i?void 0:i.symbol)?`${null===(t=e)||void 0===t?void 0:t.name} (${null===(r=e)||void 0===r?void 0:r.symbol})`:(null===(a=e)||void 0===a?void 0:a.name)??(null===(l=e)||void 0===l?void 0:l.symbol)??"tokens"}${n&&n!==ie.UniverseChainId.Mainnet?` on ${fn.UNIVERSE_CHAIN_INFO[n].label}`:""}. Real-time prices, charts, transaction data, and more.`};var Vn=o(80438),Ln=o(437),Mn=o(68407),Nn=o(43969),En=o(61341);function Sn(e,n,o,i){var t;const{chainId:r}=(0,p.m)(),a=r??ie.UniverseChainId.Mainnet,l=(0,j.useMemo)((()=>{var n;return i?(0,an.nativeOnChain)(o):(null===(n=e.data)||void 0===n?void 0:n.token)?(0,E.Pc)(e.data.token):void 0}),[i,o,null===(t=e.data)||void 0===t?void 0:t.token]),s=Boolean(l)||o!==a,d=function(e,n,o){var i;const t=(0,qe.U8)(o?void 0:e,n);return o||!e||t&&(null===(i=t)||void 0===i?void 0:i.symbol)===h.e?void 0:t}(n,o,s);return{currency:l??d,currencyWasFetchedOnChain:!l}}function Fn(){var e,n,o,i,t,r,a,l;const{tokenAddress:s}=(0,f.UO)();if(!s)throw new Error("Invalid token details route: token address URL param is undefined");const d=(0,E.L7)((0,V.WN)(),{fallbackToEthereum:!0}),c=s===h.d,u=c?(0,En.P)(d.backendChain.chain):s,v=(0,M.useTokenWebQuery)({variables:{address:u,chain:d.backendChain.chain},errorPolicy:"all"}),p=(0,he.Gn)(u,d.backendChain.chain),x=function(e){var n,o,i,t;const{data:r}=(0,Tn.vv)();return(0,j.useMemo)((()=>{var n,o,i,t,a,l;const s=null===(i=r)||void 0===i||null===(o=i.portfolios)||void 0===o||null===(n=o[0])||void 0===n?void 0:n.tokenBalances,d=null===(l=e.data)||void 0===l||null===(a=l.token)||void 0===a||null===(t=a.project)||void 0===t?void 0:t.tokens;return d?d.reduce(((e,n)=>{if(n){var o;e[n.chain]||(e[n.chain]={});const i=e[n.chain]??{};i.address=n.address,i.balance=null===(o=s)||void 0===o?void 0:o.find((e=>{var o,i;return(null===(i=e)||void 0===i||null===(o=i.token)||void 0===o?void 0:o.id)===n.id})),e[n.chain]=i}return e}),{}):{}}),[null===(n=r)||void 0===n?void 0:n.portfolios,null===(t=e.data)||void 0===t||null===(i=t.token)||void 0===i||null===(o=i.project)||void 0===o?void 0:o.tokens])}(v),{currency:m,currencyWasFetchedOnChain:y}=Sn(v,s,d.id,c),g=(0,wn.Xp)(s,d.id),k=(0,we.useTheme)(),{preloadedLogoSrc:b}=(0,f.TH)().state??{},C=(null===(o=v.data)||void 0===o||null===(n=o.token)||void 0===n||null===(e=n.project)||void 0===e?void 0:e.logoUrl)??b,w=(0,$n.H)(C,(null===(t=v.data)||void 0===t||null===(i=t.token)||void 0===i?void 0:i.name)??(null===(l=v.data)||void 0===l||null===(a=l.token)||void 0===a||null===(r=a.project)||void 0===r?void 0:r.name),k.surface2).tokenColor??void 0;return(0,j.useMemo)((()=>{var e,n;return{currency:m,currencyChain:d.backendChain.chain,currencyChainId:d.id,address:((null===(e=m)||void 0===e?void 0:e.isNative)?h.d:null===(n=m)||void 0===n?void 0:n.address)??s,currencyWasFetchedOnChain:y,tokenQuery:v,chartState:p,warning:g,multiChainMap:x,tokenColor:w}}),[m,d.backendChain.chain,d.id,s,y,v,p,g,x,w])}function Un(){var e,n,o;const t=(0,p.m)().chainId??ie.UniverseChainId.Mainnet,r=Fn(),{tokenColor:a,address:l,currency:s,currencyChain:d,currencyChainId:c,tokenQuery:u}=r,v=null===(e=u.data)||void 0===e?void 0:e.token,h=(0,j.useMemo)((()=>{var e,n,o;return{title:(0,Mn.u)(null===(e=v)||void 0===e?void 0:e.symbol,null===(n=v)||void 0===n?void 0:n.name),image:window.location.origin+"/api/image/tokens/"+d.toLowerCase()+"/"+((null===(o=s)||void 0===o?void 0:o.isNative)?(0,En.P)(d):l),url:window.location.href,description:Pn(s,c)}}),[l,s,d,c,null===(n=v)||void 0===n?void 0:n.name,null===(o=v)||void 0===o?void 0:o.symbol]),x=(0,Vn.X)(h);return(0,i.jsxs)(Nn.f6,{accent1:a??void 0,children:[(0,i.jsxs)(Ln.Helmet,{children:[(0,i.jsx)("title",{children:In(s,c)}),x.map(((e,n)=>(0,i.jsx)("meta",{...e},n)))]}),s?(0,i.jsx)(y.A,{contextValue:r,children:(0,i.jsx)(vn,{})}):u.loading?(0,i.jsx)(pe.lJ,{}):(0,i.jsx)(Cn,{pageChainId:t,isInvalidAddress:!(0,_.isAddress)(l)})]})}},68407:(e,n,o)=>{function i(e,n){return e?"Get "+e+" on Uniswap":n?"Get "+n+" on Uniswap":"View Token on Uniswap"}function t(e,n,o){return e||(n&&o?n+" #"+o:o?"Asset #"+o:"View NFT on Uniswap")}o.d(n,{H:()=>t,u:()=>i})}}]);
//# sourceMappingURL=6770.03f07d27.chunk.js.map