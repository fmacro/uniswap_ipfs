"use strict";(self.webpackChunk_uniswap_interface=self.webpackChunk_uniswap_interface||[]).push([[8902],{67148:(e,n,i)=>{i.d(n,{p:()=>g});var t=i(92936),o=i(99454),r=i(57367),d=i(45779),a=i(56250),l=i(20449),s=i(8806),c=i(70854),u=i(95625),p=i(39063),h=i(97994);const x=(0,a.z)(l.e,{display:"flex",flexDirection:"row",alignItems:"center",width:"100%",gap:"$gap12",textDecorationLine:"none",color:"$neutral2",hoverStyle:{color:"$neutral1"}}),v={[c.ProtocolVersion.V4]:{title:(0,h.t)("pool.v4"),link:"/pool"},[c.ProtocolVersion.V3]:{title:(0,h.t)("pool.v3"),link:"/pool"},[c.ProtocolVersion.V2]:{title:(0,h.t)("pool.v2"),link:"/pools/v2"}},m={[c.ProtocolVersion.V4]:"v4",[c.ProtocolVersion.V3]:"v3",[c.ProtocolVersion.V2]:"v2"};function g({protocolVersion:e}){const[n,i]=(0,d.useState)(!1),a=(0,p.useFeatureFlag)(u.FeatureFlags.V4Everywhere);return(0,t.jsx)(o.u,{isOpen:n,menuLabel:(0,t.jsx)(s.xv,{variant:"body1",children:m[e]}),internalMenuItems:(0,t.jsx)(t.Fragment,{children:Object.entries(v).filter((([n,i])=>!(!a&&n===c.ProtocolVersion.V4)&&i.title!==v[e].title)).map((([,e])=>(0,t.jsxs)(x,{href:e.link,children:[(0,t.jsx)(r.K,{width:"20px",height:"20px"}),(0,t.jsx)(s.xv,{variant:"body1",style:{color:"inherit"},children:e.title})]},e.title)))}),toggleOpen:i,buttonStyle:{height:36},adaptToSheet:!1})}},98902:(e,n,i)=>{i.r(n),i.d(n,{default:()=>X});var t=i(92936),o=i(5985),r=i(3115),d=i(32409),a=i(89045),l=i(92241),s=i(17256),c=i(55478),u=i(83792),p=i(44609),h=i(61808),x=i(22407),v=i(22722),m=i(42183),g=i(99300),j=i(61592),f=i.n(j),y=i(97047),w=i(36664),T=i(61152),A=i(67148),k=i(45779),R=i(74928),P=i(43454),b=i(22953),I=i(51371),C=i(4570),_=i(76078),D=i(12972),V=i(6409),E=i(70359),B=i(24055),q=i(40834),S=i(769),U=i(30102);const F=new I.vU(C.Mt),W={1:[{tokens:[q.WRAPPED_NATIVE_CURRENCY[S.UniverseChainId.Mainnet],q.DAI],stakingRewardAddress:"0xa1484C3aa22a66C62b77E0AE78E15258bd0cB711"},{tokens:[q.WRAPPED_NATIVE_CURRENCY[S.UniverseChainId.Mainnet],q.USDC_MAINNET],stakingRewardAddress:"0x7FBa4B8Dc5E7616e59622806932DBea72537A56b"},{tokens:[q.WRAPPED_NATIVE_CURRENCY[S.UniverseChainId.Mainnet],q.USDT],stakingRewardAddress:"0x6C3e4cb2E96B01F4b866965A91ed4437839A121a"},{tokens:[q.WRAPPED_NATIVE_CURRENCY[S.UniverseChainId.Mainnet],q.WBTC],stakingRewardAddress:"0xCA35e32e7926b96A9988f61d510E038108d8068e"}]};var Z=i(16138),M=i(56363),N=i(77134),K=i(70854),z=i(48313),Y=i(97994);const O=(0,w.ZP)(c.Tz)`
  max-width: 640px;
  width: 100%;

  ${({theme:e})=>e.deprecated_mediaWidth.deprecated_upToSmall`
    padding: 0px 8px;
  `};
`,$=(0,w.ZP)(p.I8)`
  background: radial-gradient(76.02% 75.41% at 1.84% 0%, #27ae60 0%, #000000 100%);
  margin: 0 0 16px 0;
  overflow: hidden;
`,L=(0,w.ZP)(u.DA)`
  gap: 8px;
  ${({theme:e})=>e.deprecated_mediaWidth.deprecated_upToSmall`
    width: 100%;
    flex-direction: row-reverse;
    justify-content: space-between;
  `};
`,H=(0,w.ZP)(r.DF)`
  height: 40px;
  width: fit-content;
  border-radius: 12px;
  ${({theme:e})=>e.deprecated_mediaWidth.deprecated_upToSmall`
    width: 48%;
  `};
`,G=(0,w.ZP)(r.PL)`
  height: 40px;
  width: fit-content;
  ${({theme:e})=>e.deprecated_mediaWidth.deprecated_upToSmall`
    width: 48%;
  `};
`,J=w.ZP.div`
  border: 1px solid ${({theme:e})=>e.neutral2};
  padding: 16px 12px;
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
`,Q=(0,w.ZP)(M.T.H1Small)`
  margin-top: 8px;
  justify-self: flex-start;
  font-weight: 535;
  text-wrap: nowrap;
`;function X(){var e,n,i,j,w,I,C;const S=(0,T.useTheme)(),X=(0,v.m)(),ee=(0,m.G)();let ne=(0,Z.B3)();ee||(ne=[]);const ie=(0,k.useMemo)((()=>ne.map((e=>({liquidityToken:(0,Z.Ce)(e),tokens:e})))),[ne]),[te,oe]=(0,y.bv)(X.address,ie.map((({liquidityToken:e})=>e)),!(null===(e=X)||void 0===e?void 0:e.address)),re=(0,k.useMemo)((()=>ie.filter((({liquidityToken:e})=>{var n;return null===(n=te[e.address])||void 0===n?void 0:n.greaterThan(0)}))),[ie,te]),de=(0,g.OY)(re.map((({tokens:e})=>e))),ae=oe||(null===(n=de)||void 0===n?void 0:n.length)<re.length||(null===(i=de)||void 0===i?void 0:i.some((e=>!e))),le=de.map((([,e])=>e)).filter((e=>Boolean(e))),se=function(e){const n=(0,v.m)(),i=(0,V.Z)(E.DB),t=(0,k.useMemo)((()=>{var i;return n.chainId?(null===(i=W[n.chainId])||void 0===i?void 0:i.filter((n=>void 0===e||null!==e&&e.involvesToken(n.tokens[0])&&e.involvesToken(n.tokens[1]))))??[]:[]}),[n.chainId,e]),o=n.chainId?q.UNI[n.chainId]:void 0,r=(0,k.useMemo)((()=>t.map((({stakingRewardAddress:e})=>e))),[t]),d=(0,k.useMemo)((()=>[n.address]),[n.address]),a=(0,B._Y)(r,F,"balanceOf",d),l=(0,B._Y)(r,F,"earned",d),s=(0,B._Y)(r,F,"totalSupply"),c=(0,B._Y)(r,F,"rewardRate",void 0,E.DB),u=(0,B._Y)(r,F,"periodFinish",void 0,E.DB);return(0,k.useMemo)((()=>n.chainId&&o?r.reduce(((e,n,r)=>{var d,p;const h=a[r],x=l[r],v=s[r],m=c[r],g=u[r];if(!(null===(d=h)||void 0===d?void 0:d.loading)&&!(null===(p=x)||void 0===p?void 0:p.loading)&&v&&!v.loading&&m&&!m.loading&&g&&!g.loading){var j,y,w,T,A,k,R,P,b,I;if((null===(j=h)||void 0===j?void 0:j.error)||(null===(y=x)||void 0===y?void 0:y.error)||v.error||m.error||g.error)return U.logger.warn("stake/hooks","useStakingInfo","Failed to load staking rewards info"),e;const d=t[r].tokens,a=new D.Pair(_.CurrencyAmount.fromRawAmount(d[0],"0"),_.CurrencyAmount.fromRawAmount(d[1],"0")),l=_.CurrencyAmount.fromRawAmount(a.liquidityToken,f().BigInt((null===(T=h)||void 0===T||null===(w=T.result)||void 0===w?void 0:w[0])??0)),s=_.CurrencyAmount.fromRawAmount(a.liquidityToken,f().BigInt(null===(A=v.result)||void 0===A?void 0:A[0])),c=_.CurrencyAmount.fromRawAmount(o,f().BigInt(null===(k=m.result)||void 0===k?void 0:k[0])),u=(e,n,i)=>_.CurrencyAmount.fromRawAmount(o,f().greaterThan(n.quotient,f().BigInt(0))?f().divide(f().multiply(i.quotient,e.quotient),n.quotient):f().BigInt(0)),p=u(l,s,c),C=null===(P=g.result)||void 0===P||null===(R=P[0])||void 0===R?void 0:R.toNumber(),V=1e3*C,E=!C||!i||C>i.toNumber();e.push({stakingRewardAddress:n,tokens:t[r].tokens,periodFinish:V>0?new Date(V):void 0,earnedAmount:_.CurrencyAmount.fromRawAmount(o,f().BigInt((null===(I=x)||void 0===I||null===(b=I.result)||void 0===b?void 0:b[0])??0)),rewardRate:p,totalRewardRate:c,stakedAmount:l,totalStakedAmount:s,getHypotheticalRewardRate:u,active:E})}return e}),[]):[]),[a,n.chainId,i,l,t,u,c,r,s,o])}(),ce=null===(j=se)||void 0===j?void 0:j.filter((e=>f().greaterThan(e.stakedAmount.quotient,x.iV))),ue=(0,g.OY)(null===(w=ce)||void 0===w?void 0:w.map((e=>e.tokens))),pe=le.filter((e=>{var n;return 0===(null===(n=ue)||void 0===n?void 0:n.map((e=>e[1])).filter((n=>{var i;return(null===(i=n)||void 0===i?void 0:i.liquidityToken.address)===e.liquidityToken.address})).length)}));return(0,t.jsx)(z.default,{logImpression:!0,page:o.yJ.POOL_PAGE,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(O,{children:[(0,t.jsxs)($,{children:[(0,t.jsx)(p.sq,{}),(0,t.jsx)(p.RF,{}),(0,t.jsx)(p.uO,{children:(0,t.jsxs)(c.Tz,{gap:"md",children:[(0,t.jsx)(u.m0,{children:(0,t.jsx)(M.T.DeprecatedWhite,{fontWeight:535,children:(0,t.jsx)(Y.Trans,{i18nKey:"pool.liquidity.rewards"})})}),(0,t.jsx)(u.m0,{children:(0,t.jsx)(M.T.DeprecatedWhite,{fontSize:14,children:(0,t.jsx)(Y.Trans,{i18nKey:"pool.liquidity.earn.fee"})})}),(0,t.jsx)(N.dL,{style:{color:S.white,textDecoration:"underline"},target:"_blank",href:"https://docs.uniswap.org/contracts/v2/concepts/core-concepts/pools",children:(0,t.jsx)(M.T.DeprecatedWhite,{fontSize:14,children:(0,t.jsx)(Y.Trans,{i18nKey:"pool.learnAbout"})})})]})}),(0,t.jsx)(p.sq,{}),(0,t.jsx)(p.RF,{})]}),ee?(0,t.jsx)(c.Tz,{gap:"lg",justify:"center",children:(0,t.jsxs)(c.Tz,{gap:"md",style:{width:"100%"},children:[(0,t.jsxs)(u.ZP,{gap:"md",justify:"space-between",style:{marginTop:"1rem"},padding:"0",children:[(0,t.jsxs)(u.ZP,{gap:"md",width:"content",children:[(0,t.jsx)(N.Pw,{children:(0,t.jsx)(Q,{children:(0,t.jsx)(Y.Trans,{i18nKey:"pool.yourv2"})})}),(0,t.jsx)(A.p,{protocolVersion:K.ProtocolVersion.V2})]}),(0,t.jsxs)(L,{children:[(0,t.jsx)(G,{as:P.rU,padding:"6px 8px",to:"/add/v2/ETH",children:(0,t.jsx)(Y.Trans,{i18nKey:"pool.create.pair"})}),(0,t.jsx)(H,{id:"find-pool-button",as:P.rU,to:"/pools/v2/find",padding:"6px 8px",children:(0,t.jsx)(b.xv,{fontWeight:535,fontSize:16,children:(0,t.jsx)(Y.Trans,{i18nKey:"pool.import"})})}),(0,t.jsx)(H,{id:"join-pool-button",as:P.rU,to:"/add/v2/ETH",padding:"6px 8px",children:(0,t.jsx)(b.xv,{fontWeight:535,fontSize:16,children:(0,t.jsx)(Y.Trans,{i18nKey:"pool.v2.add"})})})]})]}),X?ae?(0,t.jsx)(J,{children:(0,t.jsx)(M.T.DeprecatedBody,{color:S.neutral3,textAlign:"center",children:(0,t.jsx)(h.bb,{children:(0,t.jsx)(Y.Trans,{i18nKey:"common.loading"})})})}):(null===(I=le)||void 0===I?void 0:I.length)>0||(null===(C=ue)||void 0===C?void 0:C.length)>0?(0,t.jsxs)(t.Fragment,{children:[pe.map((e=>(0,t.jsx)(a.ZP,{pair:e},e.liquidityToken.address))),ue.map(((e,n)=>e[1]&&(0,t.jsx)(a.ZP,{pair:e[1],stakedBalance:ce[n].stakedAmount},ce[n].stakingRewardAddress))),(0,t.jsx)(u.DA,{justify:"center",style:{width:"100%"},children:(0,t.jsxs)(r.JU,{as:P.rU,to:"/migrate/v2",id:"import-pool-link",style:{padding:"8px 16px",margin:"0 4px",borderRadius:"12px",width:"fit-content",fontSize:"14px"},children:[(0,t.jsx)(R.Z,{size:16,style:{marginRight:"8px"}}),(0,t.jsx)(Y.Trans,{i18nKey:"pool.v2.migratev3"})]})})]}):(0,t.jsx)(J,{children:(0,t.jsx)(M.T.DeprecatedBody,{color:S.neutral3,textAlign:"center",children:(0,t.jsx)(Y.Trans,{i18nKey:"pool.noLiquidity"})})}):(0,t.jsx)(d.ZP,{padding:"40px",children:(0,t.jsx)(M.T.DeprecatedBody,{color:S.neutral3,textAlign:"center",children:(0,t.jsx)(Y.Trans,{i18nKey:"pool.liquidity.connectToAdd"})})})]})}):(0,t.jsx)(s.A,{})]}),(0,t.jsx)(l.c,{})]})})}}}]);
//# sourceMappingURL=8902.84d9bdc8.chunk.js.map